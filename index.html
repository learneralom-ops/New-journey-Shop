
<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arifa Smart Shop | Best Offers</title>

<meta name="description" content="Best Daraz Affiliate Deals & Flash Sale">
<meta name="keywords" content="Daraz Deals, Daraz Affiliate, Flash Sale">

<style>
*{box-sizing:border-box;font-family:Arial,sans-serif}
body{margin:0;background:#f5f5f5}

/* Navbar */
nav{
  background:#f85606;
  color:#fff;
  padding:10px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
}
nav h2{margin:0;font-size:20px}
nav input{
  flex:1;
  padding:8px;
  border:none;
  border-radius:5px;
}

/* Category */
.categories{
  display:flex;
  overflow:auto;
  background:#fff;
  padding:10px;
  gap:10px;
}
.categories button{
  padding:6px 12px;
  border:none;
  border-radius:20px;
  background:#eee;
  cursor:pointer;
}
.categories button.active{
  background:#f85606;
  color:#fff;
}

/* Products */
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:15px;
  padding:15px;
}
.product{
  background:#fff;
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
}
.product img{
  width:100%;
  height:160px;
  object-fit:cover;
}
.info{padding:10px}
.price{color:#f85606;font-weight:bold}
.old{color:#999;text-decoration:line-through;font-size:13px}
.buy{
  display:block;
  background:#f85606;
  color:#fff;
  text-align:center;
  padding:8px;
  border-radius:5px;
  margin-top:8px;
  text-decoration:none;
}
.timer{
  font-size:13px;
  color:red;
  margin-top:5px;
}

/* WhatsApp */
.whatsapp{
  position:fixed;
  right:20px;
  bottom:20px;
  background:#25d366;
  color:#fff;
  padding:14px;
  border-radius:50%;
  font-size:22px;
  text-decoration:none;
}

/* Footer */
footer{
  background:#111;
  color:#fff;
  text-align:center;
  padding:10px;
}
</style>
</head>

<body>

<nav>
  <h2>üß° Arifa Smart Shop</h2>
  <input id="search" placeholder="Search products...">
</nav>

<div class="categories" id="categories"></div>

<section class="products" id="products"></section>

<footer>
¬© 2026 Arifa Smart Shop
</footer>

<a class="whatsapp" href="https://wa.me/8801749666991" target="_blank">üí¨</a>

<script type="module">
  // Firebase SDK ‡¶á‡¶Æ‡¶™‡ßã‡¶∞‡ßç‡¶ü
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ Firebase ‡¶™‡ßç‡¶∞‡¶ï‡¶≤‡ßç‡¶™‡ßá‡¶∞ ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶∏‡¶æ‡¶®
  const firebaseConfig = {
  apiKey: "AIzaSyDbc54ZsWBXFqX50KvY85kbHkUo_Ct5hLk",
  authDomain: "arifa-shop.firebaseapp.com",
  databaseURL: "https://arifa-shop-default-rtdb.firebaseio.com",
  projectId: "arifa-shop",
  storageBucket: "arifa-shop.firebasestorage.app",
  messagingSenderId: "792267788402",
  appId: "1:792267788402:web:96dd32886699ff188472eb"
};

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  let allProducts = [];

  // Firestore ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶´‡ßá‡¶ö ‡¶ï‡¶∞‡¶æ
  async function fetchProducts() {
    try {
      const querySnapshot = await getDocs(collection(db, "products"));
      allProducts = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
      
      loadCategories();
      renderProducts(allProducts);
    } catch (error) {
      console.error("‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶®‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá: ", error);
      products.innerHTML = "<p style='padding:20px;'>‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ Firebase Config ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>";
    }
  }

  function loadCategories() {
    const cats = ["All", ...new Set(allProducts.map(p => p.category))];
    const categoryDiv = document.getElementById("categories");
    categoryDiv.innerHTML = "";
    cats.forEach(c => {
      const b = document.createElement("button");
      b.textContent = c;
      b.onclick = () => filterCategory(c, b);
      categoryDiv.appendChild(b);
    });
  }

  // ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ (onclick ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)
  window.filterCategory = (cat, btn) => {
    document.querySelectorAll(".categories button").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    renderProducts(cat === "All" ? allProducts : allProducts.filter(p => p.category === cat));
  };

  function renderProducts(list) {
    const productSection = document.getElementById("products");
    productSection.innerHTML = "";
    list.forEach(p => {
      const div = document.createElement("div");
      div.className = "product";
      div.innerHTML = `
        <img src="${p.img}">
        <div class="info">
          <b>${p.title}</b>
          <p class="price">‡ß≥ ${p.price} <span class="old">‡ß≥ ${p.old}</span></p>
          <div class="timer" data-time="${p.offerEnd}"></div>
          <a class="buy" href="${p.link}" target="_blank">Buy on Daraz</a>
        </div>`;
      productSection.appendChild(div);
    });
  }

  // ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
  document.getElementById("search").oninput = () => {
    const q = document.getElementById("search").value.toLowerCase();
    renderProducts(allProducts.filter(p => p.title.toLowerCase().includes(q)));
  };

  // ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶°‡¶æ‡¶â‡¶® ‡¶ü‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞
  setInterval(() => {
    document.querySelectorAll(".timer").forEach(t => {
      const end = new Date(t.dataset.time).getTime();
      const now = Date.now();
      const d = end - now;
      if (d <= 0) { t.innerText = "Offer Ended"; return; }
      const h = Math.floor(d / 3600000);
      const m = Math.floor(d % 3600000 / 60000);
      const s = Math.floor(d % 60000 / 1000);
      t.innerText = `‚è∞ ${h}h ${m}m ${s}s`;
    });
  }, 1000);

  // ‡¶∞‡¶æ‡¶® ‡¶ï‡¶∞‡¶æ
  fetchProducts();

</script>

</body>
</html>
