
<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arifa Smart Shop | Best Offers</title>

<meta name="description" content="Best Daraz Affiliate Deals & Flash Sale">
<meta name="keywords" content="Daraz Deals, Daraz Affiliate, Flash Sale">

<style>
*{box-sizing:border-box;font-family:Arial,sans-serif}
body{margin:0;background:#f0f2f5; color: #333;}

/* Navbar */
nav{
  background:#f85606;
  color:#fff;
  padding:15px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
nav h2{margin:0;font-size:20px; flex-shrink: 0;}
nav input{
  flex:1;
  padding:10px;
  border:none;
  border-radius:5px;
  outline: none;
}

/* Category */
.categories{
  display:flex;
  overflow-x:auto;
  background:#fff;
  padding:10px;
  gap:8px;
  white-space: nowrap;
  border-bottom: 1px solid #ddd;
}
.categories::-webkit-scrollbar { display: none; } /* Scrollbar ‡¶π‡¶æ‡¶á‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */

.categories button{
  padding:8px 16px;
  border:1px solid #ddd;
  border-radius:20px;
  background:#fff;
  cursor:pointer;
  transition: 0.3s;
}
.categories button.active{
  background:#f85606;
  color:#fff;
  border-color: #f85606;
}

/* Products Grid */
.products{
  display:grid;
  /* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá ‡ß®‡¶ü‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßú ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶® ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶Ö‡¶ü‡ßã ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶ú‡¶æ‡¶∏‡ßç‡¶ü ‡¶π‡¶¨‡ßá */
  grid-template-columns: repeat(2, 1fr); 
  gap:10px;
  padding:10px;
}

@media (min-width: 600px) {
  .products {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 15px;
    padding: 15px;
  }
}

.product{
  background:#fff;
  border-radius:8px;
  overflow:hidden;
  display: flex;
  flex-direction: column;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  transition: transform 0.2s;
}
.product:hover { transform: translateY(-3px); }

.product img{
  width:100%;
  aspect-ratio: 1 / 1; /* ‡¶á‡¶Æ‡ßá‡¶ú‡¶ó‡ßÅ‡¶≤‡ßã‡¶ï‡ßá ‡¶∏‡ßç‡¶ï‡ßü‡¶æ‡¶∞ ‡¶ó‡ßç‡¶∞‡¶ø‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
  object-fit:cover;
  background: #f9f9f9;
}
.info{
  padding:10px;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}
.info b{
  font-size: 14px;
  height: 34px; /* ‡ß® ‡¶≤‡¶æ‡¶á‡¶®‡ßá‡¶∞ ‡¶¨‡ßá‡¶∂‡¶ø ‡¶®‡¶æ‡¶Æ ‡¶Ø‡¶æ‡¶§‡ßá ‡¶ó‡ßç‡¶∞‡¶ø‡¶° ‡¶®‡¶∑‡ßç‡¶ü ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá */
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  line-height: 1.2;
}
.price{color:#f85606; font-weight:bold; margin-top: 5px; font-size: 16px;}
.old{color:#999; text-decoration:line-through; font-size:12px; margin-left: 5px;}

.buy{
  display:block;
  background:#f85606;
  color:#fff;
  text-align:center;
  padding:8px;
  border-radius:4px;
  margin-top:auto; /* ‡¶¨‡¶æ‡¶ü‡¶® ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü ‡¶ï‡¶æ‡¶∞‡ßç‡¶°‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
  text-decoration:none;
  font-size: 13px;
  font-weight: bold;
}
.timer{
  font-size:11px;
  color: #e02020;
  margin: 5px 0;
  font-weight: bold;
}

/* WhatsApp */
.whatsapp{
  position:fixed;
  right:20px;
  bottom:20px;
  background:#25d366;
  color:#fff;
  width: 50px;
  height: 50px;
  border-radius:50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size:25px;
  text-decoration:none;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  z-index: 1000;
}

/* Footer */
footer{
  background:#111;
  color:#fff;
  text-align:center;
  padding:20px;
  margin-top: 20px;
}
</style>
</head>

<body>

<nav>
  <h2>Arifa Smart Shop</h2>
  <input id="search" placeholder="Search products...">
</nav>

<div class="categories" id="categories"></div>

<section class="products" id="products">
  <p style="padding: 20px; text-align: center;">Loading products...</p>
</section>

<footer>
¬© 2026 Arifa Smart Shop
</footer>

<a class="whatsapp" href="https://wa.me/8801749666991" target="_blank">üí¨</a>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDbc54ZsWBXFqX50KvY85kbHkUo_Ct5hLk",
    authDomain: "arifa-shop.firebaseapp.com",
    databaseURL: "https://arifa-shop-default-rtdb.firebaseio.com",
    projectId: "arifa-shop",
    storageBucket: "arifa-shop.firebasestorage.app",
    messagingSenderId: "792267788402",
    appId: "1:792267788402:web:96dd32886699ff188472eb"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  let allProducts = [];

  async function fetchProducts() {
    try {
      const querySnapshot = await getDocs(collection(db, "products"));
      allProducts = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
      
      loadCategories();
      renderProducts(allProducts);
    } catch (error) {
      console.error("‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶®‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá: ", error);
      document.getElementById("products").innerHTML = "<p style='padding:20px;'>‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡¶∂‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>";
    }
  }

  function loadCategories() {
    const cats = ["All", ...new Set(allProducts.map(p => p.category))];
    const categoryDiv = document.getElementById("categories");
    categoryDiv.innerHTML = "";
    cats.forEach(c => {
      const b = document.createElement("button");
      b.textContent = c;
      if(c === "All") b.classList.add("active");
      b.onclick = () => filterCategory(c, b);
      categoryDiv.appendChild(b);
    });
  }

  window.filterCategory = (cat, btn) => {
    document.querySelectorAll(".categories button").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    renderProducts(cat === "All" ? allProducts : allProducts.filter(p => p.category === cat));
  };

  function renderProducts(list) {
    const productSection = document.getElementById("products");
    productSection.innerHTML = list.length > 0 ? "" : "<p style='grid-column: 1/-1; text-align: center; padding: 20px;'>No products found.</p>";
    
    list.forEach(p => {
      const div = document.createElement("div");
      div.className = "product";
      div.innerHTML = `
        <img src="${p.img || 'https://via.placeholder.com/200'}" alt="${p.title}">
        <div class="info">
          <b>${p.title}</b>
          <p class="price">‡ß≥ ${p.price} <span class="old">${p.old ? '‡ß≥ ' + p.old : ''}</span></p>
          <div class="timer" data-time="${p.offerEnd}"></div>
          <a class="buy" href="${p.link}" target="_blank">‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</a>
        </div>`;
      productSection.appendChild(div);
    });
  }

  document.getElementById("search").oninput = () => {
    const q = document.getElementById("search").value.toLowerCase();
    renderProducts(allProducts.filter(p => p.title.toLowerCase().includes(q)));
  };

  setInterval(() => {
    document.querySelectorAll(".timer").forEach(t => {
      if(!t.dataset.time) return;
      const end = new Date(t.dataset.time).getTime();
      const now = Date.now();
      const d = end - now;
      if (d <= 0) { t.innerText = "‡¶Ö‡¶´‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶∂‡ßá‡¶∑"; return; }
      const h = Math.floor(d / 3600000);
      const m = Math.floor(d % 3600000 / 60000);
      const s = Math.floor(d % 60000 / 1000);
      t.innerText = `‚è∞ ‡¶∂‡ßá‡¶∑ ‡¶π‡¶¨‡ßá: ${h}h ${m}m ${s}s`;
    });
  }, 1000);

  fetchProducts();
</script>

</body>
</html>
